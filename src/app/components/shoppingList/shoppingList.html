<h3>Shopping List</h3>
<input ng-model="main.customIngredient" type="text" class="padded-input"/>
<button class="rounded-button" ng-click="main.addCustomIngredient()">ADD ITEM</button>
<p ng-show="main.ingredients.length === 0">Add Meals to Populate Shopping List</p>

<div class="dropdown" dropdown="">
  <button role="button"
          class="btn btn-default dropdown-toggle"
          dropdown-toggle=""
          aria-haspopup="true"
          aria-expanded="false">
    Sort By <b class="caret"></b>
  </button>
  <ul class="dropdown-menu">
    <li ng-repeat="sortOption in main.sortOptions">
      <a ng-click="main.sortBy = sortOption.sortByString">{{ sortOption.displayText }}</a>
    </li>
  </ul>
</div>

<div class="ingredient-list">
  <div ng-repeat="ingredient in main.ingredients | orderBy: ['added', main.sortBy]"
       ng-hide="main.sortBy === 'storeSection'">
    <!--TODO when a checkbox is clicked, the page jumps to that element. This needs to be disabled.-->
      <p ng-class="{'faded-out' : ingredient.added}">
        <input type="checkbox"
               ng-model="ingredient.added"/>
        {{ ingredient.name }}
                            <span class="ingredient-source">
                                - {{ ingredient.source }}
                            </span>

      </p>
  </div>

  <div ng-repeat="storeSection in main.foodBySection"
       ng-show="main.sortBy === 'storeSection'">
    <h4>{{ storeSection.category }}</h4>
    <div ng-repeat="ingredient in main.ingredients | orderBy: ['added', 'name']">
        <p ng-if="ingredient.storeSection === storeSection.category" ng-class="{'faded-out' : ingredient.added}">
          <input type="checkbox"
                 ng-model="ingredient.added"/>
          {{ ingredient.name }}
                                <span class="ingredient-source">
                                    - {{ ingredient.source }}
                                </span>
        </p>
    </div>
  </div>
</div>
